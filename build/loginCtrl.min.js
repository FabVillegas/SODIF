/*! SOP - v0.1.0 - 2014-11-24 */function loginCtrl(a,b,c,d,e,f){a.user={};var g=new Firebase(e.getMainRef());a.authObj=d(g),a.closeDialog=function(){f.close({template:"errorMessage"})},a.login=function(){void 0==a.user.name&&f.open({template:"errorMessage",closeByDocument:!0,closeByEscape:!0}),""!=a.user.password?a.authObj.$authWithPassword({email:a.user.name,password:a.user.password}).then(function(a){console.log("Logged in as:",a.uid),b.go("captura")}).catch(function(b){f.open({template:"errorMessage",closeByDocument:!0,closeByEscape:!0}),a.user.password="",console.error("Authentication failed:",b)}):a.closeDialog()}}angular.module("sodif").controller("loginCtrl",loginCtrl),loginCtrl.$inject=["$scope","$state","$firebase","$firebaseAuth","firebaseRefFactory","ngDialog"];