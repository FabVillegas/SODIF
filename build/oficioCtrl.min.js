/*! SOP - v0.1.0 - 2014-11-24 */function oficioCtrl(a,b,c,d,e,f,g){a.oficio={autoridad:"",tipoJuzgado:"",tipoDeJuicio:"",municipio:"",servicio:"",areaDeServicio:"",tipoDeServicio:"",menores:[]},a.isDisabled=!0,a.itExists=-1,a.oficioRef=new Firebase(e.getOficio(d.numero)),a.oficioObj=b(a.oficioRef).$asObject(),a.newMenores=0,a.oficioObj.$bindTo(a,"objData").then(function(){a.oficio=a.oficioObj}),a.addMenorToList=function(){void 0==a.oficio.menores&&(a.oficio.menores=[]),a.oficio.menores.push({edad:"",sexo:"",nombre:"",apellidoPaterno:"",apellidoMaterno:"",respuesta:"Respuesta brindada a petici√≥n"}),a.newMenores+=1},a.cancelMenor=function(b){a.oficio.menores.splice(b,1)},a.disableButtons=function(){a.isDisabled?(a.disableStyle={"background-color":"grey","border-color":"black"},a.eraseMenorDisabled={color:"grey"}):(a.disableStyle={},a.eraseMenorDisabled={})},a.enableEdit=function(){a.isDisabled=!1,a.disableButtons()},a.editOficio=function(){a.oficioObj.$save(),g.open({template:"editSuccessMessage",closeByDocument:!0,closeByEscape:!0}),a.isDisabled=!0,a.disableButtons();var b=f.getYear(a.oficio.fecha),c=f.getMonth(a.oficio.fecha),d=new Firebase(e.getContadorMenoresRef(b,c)),h=a.newMenores;d.transaction(function(a){return(a||0)+h})},a.disableButtons()}angular.module("sodif").controller("oficioCtrl",oficioCtrl),oficioCtrl.$inject=["$scope","$firebase","$state","$stateParams","firebaseRefFactory","dateFactory","ngDialog"];