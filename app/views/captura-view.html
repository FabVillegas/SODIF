<div ng-controller="capturaCtrl">

  <div id="capturaSuperContainer">
    <div id="administrativoContainer" class="container">

      <div class="sixteen columns">
        <h2>Administrativo : </h2>
      </div>

      <div class="sixteen columns">
        <label class="capturaLabel">Fecha :</label>
        <script>
          $('.datepicker').pickadate({
          today: 'Hoy',
          clear: 'Cancelar',
          close: 'Cerrar',
          monthsFull: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo', 'Junio', 'Julio', 'Agosto', 'Septiembre', 'Octubre', 'Noviembre', 'Diciembre'],
          weekdaysShort: ['Dom', 'Lun', 'Mar', 'Mier', 'Jue', 'Vie', 'Sab'],
          formatSubmit: 'yyyy/mm/dd',
          format: 'dd mmmm yyyy'
          });
        </script>
        <input class="capturaDate datepicker" ng-model="oficio.fecha" required>
      </div>

      <div class="eight columns">
        <input ng-model="oficio.numero" class="capturaInput" type="text" placeholder="Folio de oficio" required>
        <select ng-model="oficio.autoridad" class="capturaDropdown">
          <option disabled>Autoridad correspondiente</option>
          <option>PGJE</option>
          <option>PJF</option>
          <option>PJE</option>
        </select>
        <select ng-model="$parent.oficio.tipoJuzgado" ng-if="oficio.autoridad == 'PGJE'" class="animate-if capturaDropdown">
          <option disabled>Tipo de Juzgado</option>
          <option>A.M.P JF  No. 1 GPE</option>
          <option>A.M.P. INV. No. 1 EJFDS GPE</option>
          <option>A.M.P. INV. No. 2 EJFDS GPE</option>
          <option>A.M.P. INV. No. 3 EJFDS GPE</option>
          <option>A.M.P. INV. No. 4 EJFDS GPE</option>
          <option>A.M.P. INV. UI No. 1  HOMICIDIO Y LESIONES DOLOSAS GPE</option>
          <option>A.M.P. INV. UI No. 2  HOMICIDIO Y LESIONES DOLOSAS GPE</option>
          <option>A.M.P. INV.  No. 6  ROBOS GPE</option>
          <option>A.M.P. INV. No. 1 EJFDS STA CATARINA</option>
          <option>A.M.P. INV. No. 2 EJFDS STA CATARINA</option>
          <option>A.M.P. INV. No. 3 EJFDS STA CATARINA</option>
          <option>A.M.P. UNIDAD 1 APODACA</option>
          <option>A.M.P. UNIDAD 2 APODACA</option>
          <option>A.M.P. No. 1 ESPECIAL JUSTICIA PARA ADOLESCENTES</option>
          <option>A.M.P. No. 2 ESPECIAL JUSTICIA PARA ADOLESCENTES</option>
          <option>A.M.P. No. 3 ESPECIAL JUSTICIA PARA ADOLESCENTES</option>
          <option>A.M.P. UI JF MONTERREY</option>
          <option>A.M.P. JF No. 6</option>
          <option>A.M.P. JF No. 3 ESCOBEDO</option>
          <option>A.M.P. ESPECIALIZADA JUICIO ORAL</option>
        </select>
        <select ng-model="$parent.oficio.tipoJuzgado" ng-if="oficio.autoridad == 'PJF'" class="animate-if capturaDropdown">
          <option disabled>Tipo de Juzgado</option>
          <option>JUZ 1 DTO EN MATERIA CIVIL Y DEL TRABAJO</option>
          <option>JUZ 2 DTO EN MATERIA CIVIL Y DEL TRABAJO</option>
          <option>JUZ 3 DTO EN MATERIA CIVIL Y DEL TRABAJO</option>
          <option>JUZ 4 DTO EN MATERIA CIVIL Y DEL TRABAJO</option>
          <option>JUZ 5 DTO EN MATERIA CIVIL Y DEL TRABAJO</option>
          <option>JUZ 1 DTO EN MATERIA PENAL</option>
          <option>JUZ 2 DTO EN MATERIA PENAL</option>
          <option>JUZ 3DTO EN MATERIA PENAL</option>
          <option>JUZ 4 DTO EN MATERIA PENAL</option>
          <option>JUZ 5 DTO EN MATERIA PENAL</option>
          <option>JUZ 6 DTO EN MATERIA PENAL</option>
          <option>JUZ 1 DTO EN MATERIA ADMINISTRATIVA</option>
          <option>JUZ 2 DTO EN MATERIA AMINISTRATIVA</option>
        </select>
        <input ng-model="$parent.oficio.tipoJuzgado" ng-if="oficio.autoridad == 'PJE'" class="animate-if capturaDropdown" type="text" placeholder="Tipo de Juzgado" >
      </div>

      <div class="eight columns">
        <select ng-model="oficio.tipoDeJuicio" class="capturaDropdown">
          <option selected disabled>Tipo de Juicio</option>
          <option>CAUSA PENAL</option>
          <option>AVERIGUACION PEVIA</option>
          <option>CARPETA DE INVESTIGACION</option>
          <option>JUICIO ORDINARIO MERCANTIL</option>
          <option>JUICIO EJECUTIVO MERCANTIL</option>
          <option>JUICIO ORDINARIO CIVIL SOBRE ACCION REINVINDICATORIA</option>
          <option>JUICIO ORDINARIO CIVIL SOBE PRESCIPCION ADQUISITIVA</option>
          <option>JUICIO ORDINARIO CIVIL</option>
          <option>JOC DIVORCIO NECESARIO</option>
          <option>JOC SOBRE RECONOCIMIENTO DE PATERNIDAD</option>
          <option>JOC SOBRE CONTRADICCIÓN DE PATERNIDAD</option>
          <option>JOC SOBRE DESONOCIMIENTO DE PATERNIDAD</option>
          <option>JOC SOBRE PÉRDIDA DE LA PATRIA POTESTAD</option>
          <option>JOC SOBRE CAMBIO DE RESIDENCIA</option>
          <option>DIVORCIO POR MUTUO CONSENTIMIENTO</option>
          <option>JUICIO ORAL DE ALIMENTOS</option>
          <option>JUICIO ORAL DE DIVORCIO NECESARIO</option>
          <option>JUICIO ORAL DE DIVORCIO POR MUTUO CONSENTIMIENTO</option>
          <option>JUICIO ORAL DE CONV Y POS. INTERINA DE MENORES</option>
          <option>DJV SOBRE AUTORIZACION PARA SALIR DEL PAIS</option>
          <option>DJV SOBRE ENAJENACION DE BIENES DE MENORES</option>
          <option>DJV SOBE DECLARACION DE ESTADO DE MINORIDAD Y NOM DE TUTOR</option>
          <option>DJV SOBRE DECLARACION DE INTERDICCION Y NOMBRAMIENTO DE TUTOR</option>
          <option>DJV SOBRE INFORMACIÓN AD PERPETUAM/DEPENDENCIA ECONÓMICA</option>
          <option>ACTO PREJUDICIAL SOBRE SEPARACION PROVISIONAL DE CÓNYUGES</option>
          <option>ACTO PREJUDICIAL SOBRE SEPARACION CAUTELAR DE PERSONAS</option>
          <option>ACTO PREJUDICIAL SOBRE MEDIDAS DE PROTECCIÓN DE EMERGENCIAS</option>
          <option>RESTITUCIÓN INTERNACIONAL DE MENORES</option>
          <option>EXHORTO DE JUICIO DE CONTROVERSIA DE ORDEN FAMILIAR</option>
        </select>
        <select ng-model="oficio.municipio" class="capturaDropdown">
          <option disabled>Municipio</option>
          <option>Guadalupe</option>
          <option>Monterrey</option>
          <option>San Pedro</option>
          <option>Santa Catarina</option>
          <option>Apocada</option>
        </select>
        <select ng-model="oficio.servicio" class="capturaDropdown">
          <option disabled>Servicio</option>
          <option>Evaluación</option>
          <option>Asistencia</option>
        </select>
        <select ng-model="oficio.areaDeServicio" class="capturaDropdown">
          <option disabled>Area de Servicio</option>
          <option>Psicología</option>
          <option>Trabajo Social</option>
          <option>Legal</option>
        </select>
        <select ng-model="$parent.oficio.tipoDeServicio" ng-if="oficio.servicio == 'Evaluación' && oficio.areaDeServicio == 'Psicología'" class="animate-if capturaDropdown">
          <option disabled>Tipo de Servicio</option>
          <option>Evaluación de posible afectación emocional o daño psicológico</option>
          <option>Evaluación del estado emocional  actual o psíquico</option>
          <option>Evaluación e Intervención ecosistémica</option>
          <option>Prueba de capacidad</option>
          <option>Evaluación Psicológica</option>
          <option>Asistencia a NNA Intervención psicológica</option>
          <option>Evaluación en conjunto con Trabajo Social</option>
          <option>Terapia</option>
          <option>Seguimiento</option>
        </select>
        <select ng-model="$parent.oficio.tipoDeServicio" ng-if="oficio.servicio == 'Evaluación' && oficio.areaDeServicio == 'Trabajo Social'" class="animate-if capturaDropdown">
          <option disabled>Tipo de Servicio</option>
          <option>Dependencia económica</option>
          <option>Estudio Socioeconómico</option>
          <option>Evaluación Social</option>
          <option>Visita Domiciliaria</option>
          <option>Investigación para descarto o confirmación de maltrato infantil</option>
          <option>Evaluación ecosistémica ó sistémica (T.S. y Psicología)</option>
          <option>Seguimiento</option>
        </select>
        <select ng-model="$parent.oficio.tipoDeServicio" ng-if="oficio.servicio == 'Asistencia' && oficio.areaDeServicio == 'Psicología'" class="animate-if capturaDropdown">
          <option disabled>Tipo de Servicio</option>
          <option>Coadyuvar al escuchar el parecer de menor y/o acompañamiento</option>
          <option>Coadyuvar en diligencia de restitución del menor de edad a uno de sus padres</option>
          <option>Realizar y emitir prueba de madurez a menores de edad</option>
          <option>Coadyuvar en evaluar  a padres en ratificación de convenio</option>
          <option>Fungir como Asesor de Autoridad durante diligencia</option>
          <option>Asistencia de menor de edad en deposito</option>
          <option>Reunión previa con Autoridad para aclarar términos de entrevista con el menor de edad</option>
          <option>Dictaminar en diligencia si el menor de edad e víctima o no de maltrato</option>
        </select>
        <select ng-model="$parent.oficio.tipoDeServicio" ng-if="oficio.servicio == 'Asistencia' && oficio.areaDeServicio == 'Trabajo Social'" class="animate-if capturaDropdown">
          <option disabled>Tipo de Servicio</option>
          <option>Apoyo en sustraer menor y traslado de menor a Centro Estatal de Convivencias</option>
          <option>Asistencia a menores de edad en diligencia de Arresto</option>
          <option>Coadyuvar al escuchar el parecer de menor y/o acompañamiento</option>
          <option>Asistencia a menores de edad en acto de desalojo</option>
          <option>Asistencia social en acto judicial de convivencia</option>
        </select>
        <select ng-model="$parent.oficio.tipoDeServicio" ng-if="oficio.servicio == 'Asistencia' && oficio.areaDeServicio == 'Legal'" class="animate-if capturaDropdown">
          <option disabled>Tipo de Servicio</option>
          <option>Acompañamiento a menor de edad durante desahogo de diligencia</option>
        </select>
      </div>

    </div>

  <div class="container">
    <div class="sixteen columns">
      <button ng-click="addMenorToList()" class="addMenor menorDropdown">Agregar menor</button>
    </div>

    <div ng-repeat="menor in listaMenores track by $index" class="animate-if">

      <div class="menorContainer sixteen columns">
        <input ng-model="menor.edad" class="menorDropdown" type="text" placeholder="Edad">
        <select ng-model="menor.sexo" class="menorDropdown">
          <option selected disabled> Sexo </option>
          <option>Femenino</option>
          <option>Masculino</option>
        </select>
      </div>

      <div class="eight columns">
        <input ng-model="menor.nombre" class="menorInput" type="text" placeholder="Nombre(s)">
        <input ng-model="menor.apellidoPaterno" class="menorInput" type="text" placeholder="Apellido paterno">
        <input ng-model="menor.apellidoMaterno" class="menorInput" type="text" placeholder="Apellido materno">
      </div>

      <div class="eight columns">
        <select ng-model="menor.respuesta" class="capturaDropdown">
          <option selected disabled>Respuesta brindada a petición</option>
          <option>Si</option>
          <option>No</option>
        </select>
        <select ng-model="menor.motivo" class="capturaDropdown animate-if" ng-if="menor.respuesta == 'No'">
          <option selected disabled>Motivos de la negativa</option>
          <option>No hay personal disponible.</option>
          <option>La petición llegó a destiempo.</option>
          <option>No se cuenta con el material y medios necesarios.</option>
          <option>No se precisa el objeto de la evaluación, se requiere previa aclaración.</option>
          <option>Error en los nombres que se contienen, se solicitó aclaración previa.</option>
        </select>
        <div class="eliminateMenorContainer">
          <a class="eliminateMenor" href="" ng-click="cancelMenor($index)">Borrar menor</a>
        </div>
        <button ng-click="addMenorToMenores($index)" type="submit" class="littleButton">Guardar Menor</button>
      </div>
    </div>

  </div>

  <script type="text/ng-template" id="alertMessage">
    <h2>Verificar que se llenó fecha y folio de oficio.</h2>
  </script>


  <script type="text/ng-template" id="successMessage">
    <h1>Oficio ha sido guardado.</h1>
  </script>

  <div id="submitContainer" class="container">
    <div id="descripcionContainer" class="sixteen columns">
      <textarea ng-model="oficio.descripcion" class="descripcion" rows="5" placeholder="Descripción del oficio"></textarea>
    </div>
    <div class="sixteen columns">
      <button ng-enter="closeDialog()" ng-click="guardar()" class="guardarCaptura" type="submit">Guardar oficio</button>
      <a ng-click="cleanInputs()" class="borrarCaptura" href="">Borrar todo</a>
    </div>
  </div>

  </div>

</div>
